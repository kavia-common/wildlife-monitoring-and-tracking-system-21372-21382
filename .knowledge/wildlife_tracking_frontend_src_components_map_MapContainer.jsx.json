{"is_source_file": true, "format": "JavaScript/React JSX", "description": "This file defines a React component 'MapContainer' that renders an interactive map using react-leaflet. The map displays telemetry points, clusters, heatmaps, geofences, and other related features, with functionalities for prediction, classification, and geofence management.", "external_files": ["leaflet/dist/leaflet.css", "leaflet", "react-leaflet", "leaflet.heat", "leaflet.markercluster", "../../services/telemetry", "../../services/api", "../../services/alerts", "../../services/analytics"], "external_methods": ["telemetryApi.list", "apiGet", "geofenceApi.list", "alertsApi.wsConnect", "analyticsApi.movementPredict", "analyticsApi.homeRange", "analyticsApi.classifyTelemetry"], "published": ["MapContainer"], "classes": [], "methods": [{"name": "loadTelemetry", "description": "Fetches telemetry data based on current filters, normalizes it, and updates the points state."}, {"name": "loadEntities", "description": "Loads related entities such as animals, devices, and cameras from external APIs."}, {"name": "loadGeofences", "description": "Fetches and normalizes geofence data for rendering overlays."}, {"name": "runPrediction", "description": "Triggers movement prediction API and updates the predictedPath state."}, {"name": "runHomeRange", "description": "Fetches the home range polygon via analytics API."}, {"name": "runClassification", "description": "Classifies telemetry points into behaviors and updates classification summary."}, {"name": "approximateCircle", "description": "Generates polygon points approximating a circle for geofence visualization."}, {"name": "MapContainer({ animalId, deviceId, defaultHours = 24, showHeatmap = true, showClusters = true, onMarkerClick, })", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "delete L.Icon.Default.prototype._getIconUrl; _getIconUrl", "scope": "delete.Icon.Default", "scopeKind": "class", "description": "unavailable"}], "calls": ["telemetryApi.list", "apiGet('/animals')", "apiGet('/devices')", "apiGet('/cameras')", "apiGet('/camera-traps')", "geofenceApi.list", "alertsApi.wsConnect", "analyticsApi.movementPredict", "analyticsApi.homeRange", "analyticsApi.classifyTelemetry"], "search-terms": ["MapContainer", "react-leaflet", "telemetry points", "geofence polygons", "heatmap layer", "marker clustering", "movement prediction", "behavior classification", "telemetry API", "geofence API", "alerts WebSocket"], "state": 2, "file_id": 36, "knowledge_revision": 118, "git_revision": "84553a13cc42e6b66962f16e0cef46a860f4dbd4", "revision_history": [{"93": ""}, {"98": ""}, {"102": "f1fba3ca0e0eb510807f8832c0d2aa4e8297d8ae"}, {"103": "f1fba3ca0e0eb510807f8832c0d2aa4e8297d8ae"}, {"104": "f1fba3ca0e0eb510807f8832c0d2aa4e8297d8ae"}, {"105": "f1fba3ca0e0eb510807f8832c0d2aa4e8297d8ae"}, {"106": "f1fba3ca0e0eb510807f8832c0d2aa4e8297d8ae"}, {"107": "f1fba3ca0e0eb510807f8832c0d2aa4e8297d8ae"}, {"108": "f1fba3ca0e0eb510807f8832c0d2aa4e8297d8ae"}, {"113": "84553a13cc42e6b66962f16e0cef46a860f4dbd4"}, {"114": "84553a13cc42e6b66962f16e0cef46a860f4dbd4"}, {"115": "84553a13cc42e6b66962f16e0cef46a860f4dbd4"}, {"116": "84553a13cc42e6b66962f16e0cef46a860f4dbd4"}, {"117": "84553a13cc42e6b66962f16e0cef46a860f4dbd4"}, {"118": "84553a13cc42e6b66962f16e0cef46a860f4dbd4"}], "ctags": [{"_type": "tag", "name": "2", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21382/wildlife_tracking_frontend/src/components/map/MapContainer.jsx", "pattern": "/^          zoom={2}$/", "language": "JavaScript", "kind": "field", "scope": "MapContainer.zoom", "scopeKind": "class"}, {"_type": "tag", "name": "Default", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21382/wildlife_tracking_frontend/src/components/map/MapContainer.jsx", "pattern": "/^delete L.Icon.Default.prototype._getIconUrl;$/", "language": "JavaScript", "kind": "class", "scope": "delete.Icon", "scopeKind": "class"}, {"_type": "tag", "name": "MapContainer", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21382/wildlife_tracking_frontend/src/components/map/MapContainer.jsx", "pattern": "/^export default function MapContainer({$/", "language": "JavaScript", "kind": "function", "signature": "({ animalId, deviceId, defaultHours = 24, showHeatmap = true, showClusters = true, onMarkerClick, })"}, {"_type": "tag", "name": "[20, 0]", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21382/wildlife_tracking_frontend/src/components/map/MapContainer.jsx", "pattern": "/^          center={[20, 0]}$/", "language": "JavaScript", "kind": "field", "scope": "MapContainer.center", "scopeKind": "class"}, {"_type": "tag", "name": "_getIconUrl", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21382/wildlife_tracking_frontend/src/components/map/MapContainer.jsx", "pattern": "/^delete L.Icon.Default.prototype._getIconUrl;$/", "language": "JavaScript", "kind": "method", "scope": "delete.Icon.Default", "scopeKind": "class"}, {"_type": "tag", "name": "animalId", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21382/wildlife_tracking_frontend/src/components/map/MapContainer.jsx", "pattern": "/^        animalId: animalId || undefined,$/", "language": "JavaScript", "kind": "property", "scope": "MapContainer.payload", "scopeKind": "class"}, {"_type": "tag", "name": "deviceId", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21382/wildlife_tracking_frontend/src/components/map/MapContainer.jsx", "pattern": "/^        deviceId: deviceId || undefined,$/", "language": "JavaScript", "kind": "property", "scope": "MapContainer.payload", "scopeKind": "class"}, {"_type": "tag", "name": "drawCoords", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21382/wildlife_tracking_frontend/src/components/map/MapContainer.jsx", "pattern": "/^            disabled={drawCoords.length < 3}$/", "language": "JavaScript", "kind": "field", "scope": "disabled", "scopeKind": "class"}, {"_type": "tag", "name": "end", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21382/wildlife_tracking_frontend/src/components/map/MapContainer.jsx", "pattern": "/^        end: filters.end,$/", "language": "JavaScript", "kind": "property", "scope": "MapContainer.payload", "scopeKind": "class"}, {"_type": "tag", "name": "geoName", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21382/wildlife_tracking_frontend/src/components/map/MapContainer.jsx", "pattern": "/^            value={geoName}$/", "language": "JavaScript", "kind": "field", "scope": "value", "scopeKind": "class"}, {"_type": "tag", "name": "homeRangeBusy", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21382/wildlife_tracking_frontend/src/components/map/MapContainer.jsx", "pattern": "/^              disabled={homeRangeBusy}$/", "language": "JavaScript", "kind": "field", "scope": "disabled", "scopeKind": "class"}, {"_type": "tag", "name": "horizon", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21382/wildlife_tracking_frontend/src/components/map/MapContainer.jsx", "pattern": "/^        horizon: 3600, \\/\\/ 1h default$/", "language": "JavaScript", "kind": "property", "scope": "MapContainer.payload", "scopeKind": "class"}, {"_type": "tag", "name": "loadGeofences", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21382/wildlife_tracking_frontend/src/components/map/MapContainer.jsx", "pattern": "/^            onClick={loadGeofences}$/", "language": "JavaScript", "kind": "field", "scope": "onClick", "scopeKind": "class"}, {"_type": "tag", "name": "loadTelemetry", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21382/wildlife_tracking_frontend/src/components/map/MapContainer.jsx", "pattern": "/^              onClick={loadTelemetry}$/", "language": "JavaScript", "kind": "field", "scope": "onClick", "scopeKind": "class"}, {"_type": "tag", "name": "loading", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21382/wildlife_tracking_frontend/src/components/map/MapContainer.jsx", "pattern": "/^              disabled={loading}$/", "language": "JavaScript", "kind": "field", "scope": "disabled", "scopeKind": "class"}, {"_type": "tag", "name": "mapRef", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21382/wildlife_tracking_frontend/src/components/map/MapContainer.jsx", "pattern": "/^          ref={mapRef}$/", "language": "JavaScript", "kind": "field", "scope": "MapContainer.ref", "scopeKind": "class"}, {"_type": "tag", "name": "payload", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21382/wildlife_tracking_frontend/src/components/map/MapContainer.jsx", "pattern": "/^      const payload = {$/", "language": "JavaScript", "kind": "class", "scope": "MapContainer", "scopeKind": "class"}, {"_type": "tag", "name": "predictBusy", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21382/wildlife_tracking_frontend/src/components/map/MapContainer.jsx", "pattern": "/^              disabled={predictBusy}$/", "language": "JavaScript", "kind": "field", "scope": "disabled", "scopeKind": "class"}, {"_type": "tag", "name": "runClassification", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21382/wildlife_tracking_frontend/src/components/map/MapContainer.jsx", "pattern": "/^              onClick={runClassification}$/", "language": "JavaScript", "kind": "field", "scope": "onClick", "scopeKind": "class"}, {"_type": "tag", "name": "runHomeRange", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21382/wildlife_tracking_frontend/src/components/map/MapContainer.jsx", "pattern": "/^              onClick={runHomeRange}$/", "language": "JavaScript", "kind": "field", "scope": "onClick", "scopeKind": "class"}, {"_type": "tag", "name": "runPrediction", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21382/wildlife_tracking_frontend/src/components/map/MapContainer.jsx", "pattern": "/^              onClick={runPrediction}$/", "language": "JavaScript", "kind": "field", "scope": "onClick", "scopeKind": "class"}, {"_type": "tag", "name": "start", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21382/wildlife_tracking_frontend/src/components/map/MapContainer.jsx", "pattern": "/^        start: filters.start,$/", "language": "JavaScript", "kind": "property", "scope": "MapContainer.payload", "scopeKind": "class"}, {"_type": "tag", "name": "steps", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21382/wildlife_tracking_frontend/src/components/map/MapContainer.jsx", "pattern": "/^        steps: 20,$/", "language": "JavaScript", "kind": "property", "scope": "MapContainer.payload", "scopeKind": "class"}, {"_type": "tag", "name": "true", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21382/wildlife_tracking_frontend/src/components/map/MapContainer.jsx", "pattern": "/^          zoomControl={true}$/", "language": "JavaScript", "kind": "field", "scope": "zoomControl", "scopeKind": "class"}], "hash": "881c1692aa33b6291e02d7c4273f8964", "format-version": 4, "code-base-name": "wildlife_tracking_frontend", "filename": "wildlife_tracking_frontend/src/components/map/MapContainer.jsx", "fields": [{"name": "zoom={2}", "scope": "MapContainer.zoom", "scopeKind": "class", "description": "unavailable"}, {"name": "center={[20, 0]}", "scope": "MapContainer.center", "scopeKind": "class", "description": "unavailable"}, {"name": "animalId: animalId || undefined,", "scope": "MapContainer.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "deviceId: deviceId || undefined,", "scope": "MapContainer.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "disabled={drawCoords.length < 3}", "scope": "disabled", "scopeKind": "class", "description": "unavailable"}, {"name": "end: filters.end,", "scope": "MapContainer.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "value={geoName}", "scope": "value", "scopeKind": "class", "description": "unavailable"}, {"name": "disabled={homeRangeBusy}", "scope": "disabled", "scopeKind": "class", "description": "unavailable"}, {"name": "horizon: 3600, \\/\\/ 1h default", "scope": "MapContainer.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "onClick={loadGeofences}", "scope": "onClick", "scopeKind": "class", "description": "unavailable"}, {"name": "onClick={loadTelemetry}", "scope": "onClick", "scopeKind": "class", "description": "unavailable"}, {"name": "disabled={loading}", "scope": "disabled", "scopeKind": "class", "description": "unavailable"}, {"name": "ref={mapRef}", "scope": "MapContainer.ref", "scopeKind": "class", "description": "unavailable"}, {"name": "disabled={predictBusy}", "scope": "disabled", "scopeKind": "class", "description": "unavailable"}, {"name": "onClick={runClassification}", "scope": "onClick", "scopeKind": "class", "description": "unavailable"}, {"name": "onClick={runHomeRange}", "scope": "onClick", "scopeKind": "class", "description": "unavailable"}, {"name": "onClick={runPrediction}", "scope": "onClick", "scopeKind": "class", "description": "unavailable"}, {"name": "start: filters.start,", "scope": "MapContainer.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "steps: 20,", "scope": "MapContainer.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "zoomControl={true}", "scope": "zoomControl", "scopeKind": "class", "description": "unavailable"}]}