{"is_source_file": true, "format": "JavaScript (React JSX)", "description": "This file defines a React component 'MapContainer' for an interactive wildlife tracking map. It utilizes Leaflet via react-leaflet to display telemetry points, entities (animals, devices, cameras), geofences, and breach events, with support for clustering, heatmaps, and drawing polygons. It also handles data fetching and WebSocket alerts.", "external_files": ["leaflet/dist/leaflet.css", "leaflet", "react-leaflet", "../../services/telemetry", "../../services/api", "../../services/alerts"], "external_methods": ["telemetryApi.list", "apiGet", "geofenceApi.list", "alertsApi.wsConnect", "lastHoursRange"], "published": [], "classes": [], "methods": [{"name": "MapContainer({ animalId, deviceId, defaultHours = 24, showHeatmap = true, showClusters = true, onMarkerClick, })", "description": "Main React functional component that renders an interactive map with telemetry and entity data, geofence drawing, and breach alerts.\nIt manages data fetching, state, and map layers for telemetry points, clusters, heatmaps, geofences, and breach events.", "scope": "", "scopeKind": ""}, {"name": "loadTelemetry", "description": "Fetches telemetry data based on filters, normalizes, filters invalid positions, sorts chronologically, and updates state."}, {"name": "loadEntities", "description": "Fetches/entities (animals, devices, cameras) from APIs and updates state."}, {"name": "loadGeofences", "description": "Fetches geofence data from API, normalizes, and updates state."}, {"name": "approximateCircle", "description": "Generates polyline points approximating a geofence circle given a center point and radius for visualization purposes."}, {"name": "delete L.Icon.Default.prototype._getIconUrl; _getIconUrl", "scope": "delete.Icon.Default", "scopeKind": "class", "description": "unavailable"}], "calls": ["telemetryApi.list", "apiGet('/animals')", "apiGet('/devices')", "apiGet('/cameras')", "apiGet('/camera-traps')", "geofenceApi.list", "alertsApi.wsConnect"], "search-terms": ["MapContainer", "leaflet heat", "geofence API", "telemetry fetching", "entity markers", "clustering", "heatmap", "breach alerts", "drawing geofences"], "state": 2, "file_id": 36, "knowledge_revision": 108, "git_revision": "f1fba3ca0e0eb510807f8832c0d2aa4e8297d8ae", "revision_history": [{"93": ""}, {"98": ""}, {"102": "f1fba3ca0e0eb510807f8832c0d2aa4e8297d8ae"}, {"103": "f1fba3ca0e0eb510807f8832c0d2aa4e8297d8ae"}, {"104": "f1fba3ca0e0eb510807f8832c0d2aa4e8297d8ae"}, {"105": "f1fba3ca0e0eb510807f8832c0d2aa4e8297d8ae"}, {"106": "f1fba3ca0e0eb510807f8832c0d2aa4e8297d8ae"}, {"107": "f1fba3ca0e0eb510807f8832c0d2aa4e8297d8ae"}, {"108": "f1fba3ca0e0eb510807f8832c0d2aa4e8297d8ae"}], "ctags": [{"_type": "tag", "name": "2", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21382/wildlife_tracking_frontend/src/components/map/MapContainer.jsx", "pattern": "/^          zoom={2}$/", "language": "JavaScript", "kind": "field", "scope": "MapContainer.zoom", "scopeKind": "class"}, {"_type": "tag", "name": "Default", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21382/wildlife_tracking_frontend/src/components/map/MapContainer.jsx", "pattern": "/^delete L.Icon.Default.prototype._getIconUrl;$/", "language": "JavaScript", "kind": "class", "scope": "delete.Icon", "scopeKind": "class"}, {"_type": "tag", "name": "MapContainer", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21382/wildlife_tracking_frontend/src/components/map/MapContainer.jsx", "pattern": "/^export default function MapContainer({$/", "language": "JavaScript", "kind": "function", "signature": "({ animalId, deviceId, defaultHours = 24, showHeatmap = true, showClusters = true, onMarkerClick, })"}, {"_type": "tag", "name": "[20, 0]", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21382/wildlife_tracking_frontend/src/components/map/MapContainer.jsx", "pattern": "/^          center={[20, 0]}$/", "language": "JavaScript", "kind": "field", "scope": "MapContainer.center", "scopeKind": "class"}, {"_type": "tag", "name": "_getIconUrl", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21382/wildlife_tracking_frontend/src/components/map/MapContainer.jsx", "pattern": "/^delete L.Icon.Default.prototype._getIconUrl;$/", "language": "JavaScript", "kind": "method", "scope": "delete.Icon.Default", "scopeKind": "class"}, {"_type": "tag", "name": "drawCoords", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21382/wildlife_tracking_frontend/src/components/map/MapContainer.jsx", "pattern": "/^            disabled={drawCoords.length < 3}$/", "language": "JavaScript", "kind": "field", "scope": "disabled", "scopeKind": "class"}, {"_type": "tag", "name": "geoName", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21382/wildlife_tracking_frontend/src/components/map/MapContainer.jsx", "pattern": "/^            value={geoName}$/", "language": "JavaScript", "kind": "field", "scope": "value", "scopeKind": "class"}, {"_type": "tag", "name": "loadGeofences", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21382/wildlife_tracking_frontend/src/components/map/MapContainer.jsx", "pattern": "/^            onClick={loadGeofences}$/", "language": "JavaScript", "kind": "field", "scope": "onClick", "scopeKind": "class"}, {"_type": "tag", "name": "loadTelemetry", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21382/wildlife_tracking_frontend/src/components/map/MapContainer.jsx", "pattern": "/^            onClick={loadTelemetry}$/", "language": "JavaScript", "kind": "field", "scope": "onClick", "scopeKind": "class"}, {"_type": "tag", "name": "loading", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21382/wildlife_tracking_frontend/src/components/map/MapContainer.jsx", "pattern": "/^            disabled={loading}$/", "language": "JavaScript", "kind": "field", "scope": "disabled", "scopeKind": "class"}, {"_type": "tag", "name": "mapRef", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21382/wildlife_tracking_frontend/src/components/map/MapContainer.jsx", "pattern": "/^          ref={mapRef}$/", "language": "JavaScript", "kind": "field", "scope": "MapContainer.ref", "scopeKind": "class"}, {"_type": "tag", "name": "true", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21382/wildlife_tracking_frontend/src/components/map/MapContainer.jsx", "pattern": "/^          zoomControl={true}$/", "language": "JavaScript", "kind": "field", "scope": "zoomControl", "scopeKind": "class"}], "hash": "a24c7cdf27a19851e9f1023ee226cb12", "format-version": 4, "code-base-name": "wildlife_tracking_frontend", "filename": "wildlife_tracking_frontend/src/components/map/MapContainer.jsx", "fields": [{"name": "zoom={2}", "scope": "MapContainer.zoom", "scopeKind": "class", "description": "unavailable"}, {"name": "center={[20, 0]}", "scope": "MapContainer.center", "scopeKind": "class", "description": "unavailable"}, {"name": "disabled={drawCoords.length < 3}", "scope": "disabled", "scopeKind": "class", "description": "unavailable"}, {"name": "value={geoName}", "scope": "value", "scopeKind": "class", "description": "unavailable"}, {"name": "onClick={loadGeofences}", "scope": "onClick", "scopeKind": "class", "description": "unavailable"}, {"name": "onClick={loadTelemetry}", "scope": "onClick", "scopeKind": "class", "description": "unavailable"}, {"name": "disabled={loading}", "scope": "disabled", "scopeKind": "class", "description": "unavailable"}, {"name": "ref={mapRef}", "scope": "MapContainer.ref", "scopeKind": "class", "description": "unavailable"}, {"name": "zoomControl={true}", "scope": "zoomControl", "scopeKind": "class", "description": "unavailable"}]}